(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{125:function(e,t,s){},126:function(e,t,s){},128:function(e,t,s){},232:function(e,t,s){},233:function(e,t,s){},234:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),c=s(14),i=s.n(c),r=(s(125),s(126),s(19)),l=s(15),o=s(6),u=s(9),j=s(1),d={loggedIn:!1,user:{},googleToken:"",businessID:""},b=n.a.createContext(d);var h=function(e){var t=Object(a.useState)(d),s=Object(u.a)(t,2),n=s[0],c=s[1];return Object(j.jsx)(b.Provider,{value:{authState:n,setAuthState:c},children:e.children})};s(128);var p=Object(l.g)((function(e){var t=Object(a.useContext)(b),s=t.authState,n=t.setAuthState;function c(){n((function(e){return Object(o.a)(Object(o.a)({},e),{},{display:null})}))}return!1===s.loggedIn?Object(j.jsxs)("div",{className:"navbar ",children:[Object(j.jsx)("div",{className:"navbar-left",children:Object(j.jsx)(r.b,{className:"navlink",exact:!0,to:"/",onClick:c,children:"SALSTOCKS"})}),Object(j.jsxs)("div",{className:"navbar-right",style:{whiteSpace:"noWrap"},children:[Object(j.jsx)(r.b,{className:"navlink",exact:!0,to:"/",onClick:c,children:"Home/Search"}),Object(j.jsx)(r.b,{className:"navlink",exact:!0,to:"/Auth",children:"Login/Signup"})]})]}):!0===s.loggedIn?Object(j.jsxs)("div",{className:"navbar ",children:[Object(j.jsx)("div",{className:"navbar-left",children:Object(j.jsx)(r.b,{className:"navlink",exact:!0,to:"/",onClick:c,children:"SALSTOCKS"})}),Object(j.jsxs)("div",{className:"navbar-right",style:{whiteSpace:"noWrap"},children:[Object(j.jsx)(r.b,{className:"navlink",exact:!0,to:"/",onClick:c,children:"Home/Search"}),Object(j.jsx)(r.b,{className:"navlink",exact:!0,to:"/Favorite",children:"Favorite"}),Object(j.jsx)(r.b,{className:"navlink",exact:!0,to:"/Port",children:"Portfolio"}),Object(j.jsx)("div",{className:"navlink",style:{display:"inline-block"},onClick:function(){n((function(e){return Object(o.a)(Object(o.a)({},e),{},{loggedIn:!1,user:{}})}))},children:"Log out"})]})]}):void 0}));s(84),s(28);var O=function(e){return Object(j.jsx)("div",{className:"error",children:Object(j.jsx)("div",{children:e.errorMsg})})},g=s(13),m=s.n(g),x=s(34),f=s(276),v=s(275),y=s(279),S=s(268),w=s(277),k=s(38),N=s.n(k),C=s(274),I=s(273),T=s(47),z=s.n(T),A=s(48),P=s.n(A),L=Object(S.a)((function(e){return{root:{width:"50%"}}}));var D=function(){L();var e,t=Object(a.useContext)(b),s=t.authState,n=t.setAuthState,c=Object(a.useState)(s.display.favorite?1:0),i=Object(u.a)(c,2),r=i[0],l=i[1],d=!1,h=Object(a.useState)(!1),p=Object(u.a)(h,2),O=p[0],g=p[1],S=Object(a.useState)(""),k=Object(u.a)(S,2),T=k[0],A=k[1],D=Object(a.useState)(0),q=Object(u.a)(D,2),F=q[0],M=q[1],E=Object(a.useState)(),R=Object(u.a)(E,2),B=R[0],U=R[1];function W(e){return Number.parseFloat(e).toPrecision(3)}function _(){var e=new Date,t=60*e.getHours()+e.getMinutes();return 390<=t&&t<=780}return Object(a.useEffect)((function(){l(s.display.favorite?1:0)}),[s.display]),Object(j.jsxs)("div",{className:"result",style:{height:"100vh"},children:[Object(j.jsx)("br",{}),Object(j.jsx)("div",{style:{margin:"0 auto",width:"50%"},children:Object(j.jsx)(C.a,{in:O,children:Object(j.jsx)(w.a,{action:Object(j.jsx)(I.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){g(!1)},children:Object(j.jsx)(N.a,{fontSize:"inherit"})}),children:T})})}),Object(j.jsxs)("div",{style:{width:"50%",margin:"0 auto",display:"inline-block",overflow:"clip"},children:[Object(j.jsxs)("div",{className:s.loggedIn?"loggedin-symbol":"guest-symbol",children:[Object(j.jsxs)("h3",{children:[s.display.ticker,s.loggedIn?Object(j.jsx)(y.a,(e={size:"large",disabled:d},Object(x.a)(e,"size","large"),Object(x.a)(e,"name","hover-feedback"),Object(x.a)(e,"value",r),Object(x.a)(e,"precision",1),Object(x.a)(e,"max",1),Object(x.a)(e,"onChange",(function(e,t){!1===d&&(d=!0,l(t),t?(console.log("add favorite"),m.a.post("http://localhost:8080/api/addFavorite",{params:{userID:s.user.userId,Ticker:s.display.ticker}}).then((function(e){A("added to favorite"),g(!0)}))):(console.log("pop favorite"),m.a.post("http://localhost:8080/api/popFavorite",{params:{userID:s.user.userId,Ticker:s.display.ticker}}).then((function(e){d=!1,A("deleted from favorite"),g(!0)}))))})),e)):null]}),Object(j.jsx)("h4",{children:s.display.name}),Object(j.jsx)("p",{children:s.display.exchangeCode}),s.loggedIn?Object(j.jsxs)("div",{style:{float:"left"},children:[Object(j.jsx)(f.a,{size:"medium",placeholder:"quantity...",margin:"dense",name:"quantity",label:"quantity",variant:"outlined",value:F,onChange:function(e){return M(e.target.value)},error:B,helperText:B||""}),Object(j.jsx)("br",{}),Object(j.jsx)(v.a,{style:{float:"left",fontWeight:"bold"},size:"small",type:"submit",variant:"contained",onClick:function(){!Number.isInteger(1*F)||F<1?(U("Enter a positive integer please"),g(!1)):F*s.display.last>s.user.balance?(U("you don't have enough cash"),g(!1)):_()?(U(null),m.a.post("http://localhost:8080/api/buysell",{params:{userID:s.user.userId,ticker:s.display.ticker,quantity:1*F,total:F*s.display.last}}).then((function(){n((function(e){return Object(o.a)(Object(o.a)({},e),{},{user:Object(o.a)(Object(o.a)({},e.user),{},{balance:s.user.balance-F*s.display.last})})})),A("successfully purchased "+F+" shares of "+s.display.ticker+" for $"+Number(F*s.display.last).toFixed(2)),g(!0)}))):(U("Market closed"),g(!1))},children:"Buy"})]}):null]}),s.loggedIn?Object(j.jsxs)("div",{className:s.display.last-s.display.prevClose>0?"loggedin-price-green":"loggedin-price-red",children:[Object(j.jsx)("h3",{children:s.display.last}),Object(j.jsxs)("h4",{children:[s.display.last-s.display.prevClose>0?Object(j.jsx)(z.a,{style:{fontSize:"48px",marginBottom:0}}):Object(j.jsx)(P.a,{style:{fontSize:"48px",marginBottom:0}})," ",W(s.display.last-s.display.prevClose),"(",W(100*(s.display.last-s.display.prevClose)/s.display.prevClose),")%"]}),Object(j.jsx)("p",{style:{color:"black",fontSize:20},children:(new Date).toLocaleString("en-us",{timezone:"America/Los Angeles"})})]}):null]}),Object(j.jsx)("br",{}),Object(j.jsx)("br",{}),Object(j.jsx)("div",{style:{margin:"0 auto",width:"30%"},children:s.loggedIn?_()?Object(j.jsx)(w.a,{variant:"filled",severity:"success",children:"Market Open!"}):Object(j.jsxs)(w.a,{variant:"filled",severity:"warning",color:"error",children:["Market Closed on ",s.display.timestamp.slice(0,10)+" "+s.display.timestamp.slice(11,19)]}):null}),Object(j.jsxs)("div",{style:{marginTop:1,width:"50%",margin:"0 auto",overflow:"clip"},children:[Object(j.jsx)("h4",{children:"Summary"}),Object(j.jsx)("hr",{}),Object(j.jsxs)("div",{className:s.loggedIn?"loggedin-lower":"guest-lower",children:[Object(j.jsxs)("div",{className:s.loggedIn?"loggedin-lower-left":"guest-lower-left",children:[Object(j.jsxs)("p",{children:["High Price: ",s.display.high]}),Object(j.jsxs)("p",{children:["Low Price: ",s.display.low]}),Object(j.jsxs)("p",{children:["Open Price: ",s.display.open]}),Object(j.jsxs)("p",{children:["Close Price: ",s.display.close]}),Object(j.jsxs)("p",{children:["Volume: ",s.display.volume]})]}),s.loggedIn&&_()?Object(j.jsxs)("div",{className:s.loggedIn?"loggedin-lower-right":"guest-lower-right",children:[Object(j.jsxs)("p",{children:["Mid Price: ",s.display.mid?s.display.mid:"-"]}),Object(j.jsxs)("p",{children:["Ask Price: ",s.display.askPrice?s.display.askPrice:"-"]}),Object(j.jsxs)("p",{children:["Ask Size: ",s.display.askSize?s.display.askSize:"-"]}),Object(j.jsxs)("p",{children:["Bid Price: ",s.display.bidPrice?s.display.bidPrice:"-"]}),Object(j.jsxs)("p",{children:["Bid Size: ",s.display.bidSize?s.display.bidSize:"-"]})]}):null]}),Object(j.jsxs)("div",{className:"CompanyDescription",children:[Object(j.jsx)("h3",{children:"Company's Description"}),Object(j.jsxs)("p",{style:{textAlign:"left"},children:["Start Date: ",s.display.startDate]}),Object(j.jsx)("p",{style:{textAlign:"left"},children:s.display.description})]})]})]})};var q=function(e){var t=Object(a.useContext)(b),s=t.authState,n=t.setAuthState,c=Object(a.useState)(""),i=Object(u.a)(c,2),r=i[0],l=i[1],d=Object(a.useState)(),h=Object(u.a)(d,2),g=h[0],x=h[1];function f(e){n((function(t){return Object(o.a)(Object(o.a)({},t),{},{display:e})}))}Object(a.useEffect)((function(){s.display&&m.a.get(v,{params:{userID:s.user.userId?s.user.userId:-1,search:s.display.ticker}}).then((function(e){"string"==typeof e.data?x(e.data):f(e.data)}))}),[s.loggedIn]);var v="http://localhost:8080/api/getBusiness";return Object(j.jsxs)("div",{className:"home",children:[Object(j.jsx)(p,{}),s.display?Object(j.jsx)(D,{}):Object(j.jsxs)("div",{className:"home-search",children:[Object(j.jsx)("div",{style:{display:"inline-flex",paddingTop:"10%"},children:Object(j.jsx)("div",{className:"sprout",children:"STOCK SEARCH"})}),Object(j.jsxs)("div",{className:"search-bar",children:[Object(j.jsx)("input",{type:"text",className:"field",placeholder:"search...",onChange:function(e){l(e.target.value)},id:"temporary"}),Object(j.jsx)("input",{type:"button",className:"searchButton",value:"search",onClick:function(e){""==r?x("Please enter the ticker"):(x(null),m.a.get(v,{params:{userID:s.user.userId?s.user.userId:-1,search:r}}).then((function(e){"string"==typeof e.data?x(e.data):f(e.data)})))}}),Object(j.jsx)("br",{}),g?Object(j.jsx)(O,{errorMsg:g}):null]})]})]})},F=s(33),M=s.n(F),E=s(49),R=s(110),B=s.n(R);var U=function(e){var t=Object(a.useContext)(b),s=t.authState,n=t.setAuthState,c=Object(l.f)(),i=null;function r(){n((function(e){return Object(o.a)(Object(o.a)({},e),{},{showLogin:!1,loggedIn:!0})}))}Object(a.useEffect)((function(){i=e.signUporLogin}));var u=function(e){var t=1e3*(e.tokenObj.expires_in||3300),s=function(){var a=Object(E.a)(M.a.mark((function a(){var c;return M.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.reloadAuthResponse();case 2:c=a.sent,t=1e3*(c.expires_in||3300),console.log("newAuthRes:",c),n((function(e){return Object(o.a)(Object(o.a)({},e),{},{googleToken:c.access_token})})),localStorage.setItem("authToken",c.id_token),setTimeout(s,t);case 8:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}();setTimeout(s,t)};return Object(j.jsx)(B.a,{clientId:"467227431315-qfa0plniiro21687j2ifupq82cd7j6op.apps.googleusercontent.com",buttonText:e.buttonText,onSuccess:function(e){console.log("success");var t=e.getAuthResponse().id_token;console.log(t),"Login"===i?m.a.post("http://localhost:8080/api/googlelogin",t).then((function(s){!0===s.data.successful?(console.log("Login Success: currentUser:",s),r(),n((function(e){return Object(o.a)(Object(o.a)({},e),{},{googleToken:t,user:s.data,showLogin:!1})})),c.push("./"),u(e)):(console.log("User must be redirected to signup page"),n((function(e){return Object(o.a)(Object(o.a)({},e),{},{signUpredirect:!0,showLogin:!1,showSignup:!0})})))})):"Signup"===i&&m.a.post("http://localhost:8080/api/googlesignup",t).then((function(s){!0===s.data.successful?(console.log("Signup Success: currentUser:",s),r(),n((function(e){return Object(o.a)(Object(o.a)({},e),{},{googleToken:t,user:s.data,showSignup:!1})})),u(e)):(console.log("User must be redirected to login page"),n((function(e){return Object(o.a)(Object(o.a)({},e),{},{Loginredirect:!0,showLogin:!0,showSignup:!1})})))}))},onFailure:function(e){console.log(s.loggedIn),console.log("Login failed: res:",e)},cookiePolicy:"single_host_origin"})},W=s(67),_=s.n(W);var H=function(e){var t=Object(l.f)(),s=Object(a.useContext)(b),n=s.authState,c=s.setAuthState,i=Object(a.useState)(),r=Object(u.a)(i,2),d=r[0],h=r[1],p=Object(a.useState)(),g=Object(u.a)(p,2),x=g[0],y=g[1],S=Object(a.useState)(),w=Object(u.a)(S,2),k=w[0],N=w[1],C=Object(a.useState)(),I=Object(u.a)(C,2),T=I[0],z=I[1],A=Object(a.useState)(),P=Object(u.a)(A,2),L=P[0],D=P[1];return Object(j.jsxs)("div",{className:"login-popup",children:[Object(j.jsx)("div",{style:{fontWeight:"bold",fontSize:"30px",marginTop:"1em"},children:"Log in"}),Object(j.jsx)("div",{style:{marginTop:"1em"},children:Object(j.jsx)(U,{LoggedinStatus:n.loggedIn,buttonText:"Login to Salstock with Google",signUporLogin:"Login"})}),Object(j.jsxs)("form",{className:"login-form",onSubmit:function(e){var s=function(e){var t={},s="",a=!0;return e&&"string"===typeof e.password&&0!==e.password.trim().length||(a=!1,t.password="Please provide your password."),e&&"string"===typeof e.email&&0!==e.email.trim().length||(a=!1,t.email="Please provide your email."),a||(s="Check the form for errors."),{success:a,message:s,errors:t}}({email:d,password:x});z(s.errors.email),D(s.errors.password),console.log(s),e.preventDefault(),!0===s.success&&m.a.post("http://localhost:8080/api/login",[d,x]).then(function(){var e=Object(E.a)(M.a.mark((function e(s){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(s),!0===s.data.successful?(console.log("Login Success: currentUser:",s.data),c((function(e){return Object(o.a)(Object(o.a)({},e),{},{showLogin:!1,loggedIn:!0,user:s.data})})),t.push("./")):(console.log("error: "+s.data.error),"googleuser"==s.data.error?N("A Google account already exists with this email. Use Google sign-on."):N("wrong email or password"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){N(e.message)}))},children:[Object(j.jsx)(f.a,{size:"medium",placeholder:"email...",margin:"dense",name:"email",label:"email",onChange:function(e){h(e.target.value)},error:T,helperText:T||""}),Object(j.jsx)("br",{}),Object(j.jsx)(f.a,{type:"password",size:"medium",placeholder:"password...",onChange:function(e){y(e.target.value)},margin:"dense",name:"pass",label:"password",error:L,helperText:L||""}),Object(j.jsx)("br",{}),k?Object(j.jsx)(O,{errorMsg:k}):null,Object(j.jsx)("br",{}),Object(j.jsx)(v.a,{style:{width:"20%",marginTop:"3em",fontWeight:"bold"},className:"login-btn",size:"small",type:"submit",variant:"contained",children:"Log in"})]})]})},K=s(111),G={handleClickOutside:function(){return V.handleClickOutside}};function V(e){var t=Object(l.f)(),s=Object(a.useContext)(b),n=s.authState,c=s.setAuthState,i=Object(a.useState)(),r=Object(u.a)(i,2),d=r[0],h=r[1],p=Object(a.useState)(),g=Object(u.a)(p,2),x=g[0],y=g[1],S=Object(a.useState)(),w=Object(u.a)(S,2),k=w[0],N=w[1],C=Object(a.useState)(),I=Object(u.a)(C,2),T=I[0],z=I[1],A=Object(a.useState)(),P=Object(u.a)(A,2),L=P[0],D=P[1],q=Object(a.useState)(),F=Object(u.a)(q,2),R=F[0],B=F[1],U=Object(a.useState)(),W=Object(u.a)(U,2),H=W[0],K=W[1];return Object(a.useEffect)((function(){!0===n.signUpredirect&&(z("Your google account is not registered, please sign up with google first"),c((function(e){return Object(o.a)(Object(o.a)({},e),{},{signUpredirect:!1})})))})),V.handleClickOutside=function(e){c((function(e){return Object(o.a)(Object(o.a)({},e),{},{showSignup:!1})}))},Object(j.jsxs)("div",{className:"Signup-popup",children:[Object(j.jsx)("div",{style:{fontWeight:"bold",fontSize:"30px",marginTop:"1em"},children:"Sign up to SALSTOCK"}),Object(j.jsxs)("form",{className:"Signup-form",onSubmit:function(e){var s={email:d,password:x,pwconfirm:k};console.log(s);var a=function(e){var t={},s="",a=!0;return e&&"string"===typeof e.email&&_.a.isEmail(e.email)||(a=!1,t.email="Please provide a correct email address."),(!e||"string"!==typeof e.password||e.password.trim().length<8)&&(a=!1,t.password="Password must have at least 8 characters."),e&&e.pwconfirm===e.password||(a=!1,t.pwconfirm="Password confirmation doesn't match."),e&&"string"===typeof e.pwconfirm&&0!==e.pwconfirm.trim().length||(a=!1,t.pwconfirm="Please provide your Password confirmation."),a||(s="Check the form for errors."),{success:a,message:s,errors:t}}(s);D(a.errors.email),B(a.errors.password),K(a.errors.pwconfirm),console.log(a),e.preventDefault(),!0===a.success&&m.a.post("http://localhost:8080/api/signup",[d,x]).then(function(){var e=Object(E.a)(M.a.mark((function e(s){return M.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(s),!0===s.data.successful?(console.log("Signup Success: currentUser:",s.data),c((function(e){return Object(o.a)(Object(o.a)({},e),{},{showSignup:!1,loggedIn:!0,user:s.data})})),t.push("./")):(console.log("error: "+s.data.error),z(s.data.error));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e.message),z(e.message)}))},children:[Object(j.jsx)(f.a,{size:"medium",placeholder:"apple@orange.com....",margin:"dense",name:"email",label:"email",onChange:function(e){h(e.target.value)},error:L,helperText:L||"your email here"}),Object(j.jsx)("br",{}),Object(j.jsx)(f.a,{type:"password",size:"medium",placeholder:"Password...",onChange:function(e){y(e.target.value)},margin:"dense",name:"pass",label:"password",error:R,helperText:R||"at least 8 characters"}),Object(j.jsx)("br",{}),Object(j.jsx)(f.a,{className:"Signup-form input",type:"password",size:"medium",placeholder:"confirm your pass...",onChange:function(e){N(e.target.value)},margin:"dense",name:"pwconfirm",label:"confirm password",error:H,helperText:H||"enter your password to confirm"}),Object(j.jsx)("br",{}),T?Object(j.jsx)(O,{errorMsg:T}):null,Object(j.jsx)("br",{}),Object(j.jsx)(v.a,{style:{width:"20%",marginTop:"3em"},className:"Signup-btn",size:"small",type:"submit",variant:"contained",color:"",children:"Sign up"})]})]})}var $=Object(K.a)(V,G);var J=function(){return Object(j.jsxs)("div",{className:"Auth",children:[Object(j.jsx)(p,{}),Object(j.jsx)(H,{}),Object(j.jsx)($,{})]})};var Q=function(e){var t=Object(a.useContext)(b),s=t.authState,n=t.setAuthState,c=Object(a.useState)(""),i=Object(u.a)(c,2),r=i[0],l=i[1],d=Object(a.useState)(),h=Object(u.a)(d,2),g=h[0],x=h[1];Object(a.useEffect)((function(){s.display&&m.a.post(f,{params:{userID:1,ticker:"apple",quantity:100,total:200}}).then((function(e){var t;"string"==typeof e.data?x(e.data):(t=e.data,n((function(e){return Object(o.a)(Object(o.a)({},e),{},{display:t})})))}))}),[s.loggedIn]);var f="http://localhost:8080/api/getStock";return Object(j.jsxs)("div",{className:"home",children:[Object(j.jsx)(p,{}),s.display?Object(j.jsx)(D,{}):Object(j.jsxs)("div",{className:"home-search",children:[Object(j.jsx)("div",{style:{display:"inline-flex",paddingTop:"10%"},children:Object(j.jsx)("div",{className:"sprout",children:"STOCK SEARCH"})}),Object(j.jsxs)("div",{className:"search-bar",children:[Object(j.jsx)("input",{type:"text",className:"field",placeholder:"search...",onChange:function(e){l(e.target.value)},id:"temporary"}),Object(j.jsx)("input",{type:"button",className:"searchButton",value:"search",onClick:function(e){""==r?x("Please enter the ticker"):(x(null),m.a.get(f,{params:{userID:1}}).then((function(e){console.log(e)})))}}),Object(j.jsx)("br",{}),g?Object(j.jsx)(O,{errorMsg:g}):null]})]})]})};s(232);var Y=Object(l.g)((function(e){var t=Object(a.useContext)(b),s=t.authState,n=t.setAuthState;function c(e){return Number.parseFloat(e).toPrecision(3)}return Object(j.jsx)("div",{className:"discoverLink",children:Object(j.jsxs)("div",{className:"discoverSnippet",children:[Object(j.jsx)(I.a,{className:"other","aria-label":"close",color:"inherit",size:"small",onClick:function(){console.log("pop favorite"),m.a.post("http://localhost:8080/api/popFavorite",{params:{userID:s.user.userId,Ticker:e.business.ticker}}).then((function(e){n((function(e){return Object(o.a)(Object(o.a)({},e),{},{uploadReady:!0})}))}))},children:Object(j.jsx)(N.a,{fontSize:"inherit"})}),Object(j.jsxs)(r.b,{style:{display:"flex",justifyContent:"space-between"},exact:!0,to:"/",onClick:function(){n((function(t){return Object(o.a)(Object(o.a)({},t),{},{display:e.business})}))},children:[Object(j.jsxs)("div",{style:{float:"left",marginLeft:"0.5em"},children:[Object(j.jsx)("p",{className:"title",children:e.business.ticker}),Object(j.jsx)("div",{style:{display:"flex"},children:e.business.name})]}),Object(j.jsx)("div",{style:{float:"right",marginRight:"0.5em"},children:Object(j.jsxs)("div",{className:e.business.last-e.business.prevClose>0?"loggedin-price-green":"loggedin-price-red",children:[Object(j.jsx)("h3",{children:e.business.last}),Object(j.jsxs)("h4",{children:[e.business.last-e.business.prevClose>0?Object(j.jsx)(z.a,{style:{fontSize:"48px",marginBottom:0}}):Object(j.jsx)(P.a,{style:{fontSize:"48px",marginBottom:0}})," ",c(e.business.last-e.business.prevClose),"(",c(100*(e.business.last-e.business.prevClose)/e.business.prevClose),")%"]})]})})]})]})})}));var X=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),s=t[0],n=t[1],c=Object(a.useState)(""),i=Object(u.a)(c,2),r=i[0],l=i[1],d=Object(a.useContext)(b),h=d.authState,O=d.setAuthState,g=Object(a.useState)([]),x=Object(u.a)(g,2),f=(x[0],x[1],Object(a.useState)([])),v=Object(u.a)(f,2),y=v[0],S=v[1];return Object(a.useEffect)((function(){h.loggedIn||window.location.replace("./"),m.a.get("http://localhost:8080/api/getFavorite",{params:{userID:h.user.userId}}).then((function(e){0==e.data.length?S([Object(j.jsxs)(w.a,{severity:"info",style:{width:"50%",margin:"0 auto"},children:["Currently you have no stocks in your favorites \u2014 ",Object(j.jsx)("strong",{children:"use the search function!"})]})]):S(e.data.map((function(e){return Object(j.jsx)(Y,{business:e,setOpen:n,setMessage:l})}))),!0===h.uploadReady&&(O((function(e){return Object(o.a)(Object(o.a)({},e),{},{uploadReady:!1})})),l("deleted from favorite"),n(!0))}))}),[h.loggedIn,h.uploadReady,h]),Object(j.jsxs)("div",{className:"discover",children:[Object(j.jsx)(p,{}),Object(j.jsxs)("div",{style:{margin:"0 auto",width:"50%",overflow:"hidden"},children:[Object(j.jsx)("h1",{style:{textAlign:"left"},children:"My Favorites"}),Object(j.jsx)(C.a,{in:s,children:Object(j.jsx)(w.a,{action:Object(j.jsx)(I.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){n(!1)},children:Object(j.jsx)(N.a,{fontSize:"inherit"})}),children:r})})]}),Object(j.jsxs)("div",{className:"home-search",children:[Object(j.jsx)("div",{style:{paddingTop:"2vh",width:"50%"}}),y]})]})},Z=(s(233),s(278)),ee=s(280),te=s(281);var se=function(e){var t=Object(a.useContext)(b),s=t.authState,n=t.setAuthState,c=Object(a.useState)("buy"),i=Object(u.a)(c,2),r=i[0],l=i[1],d="http://localhost:8080/api/buysell",h=Object(a.useState)(0),p=Object(u.a)(h,2),O=p[0],g=p[1],x=Object(a.useState)(null),y=Object(u.a)(x,2),S=y[0],w=y[1];function k(){return N(e.business.total/e.business.quantity-e.business.last)}function N(e){return Number(e).toFixed(2)}return Object(j.jsxs)("div",{className:"discoverLink",children:[Object(j.jsxs)("div",{className:"title",children:[e.business.ticker," ",Object(j.jsx)("span",{className:"name",children:e.business.name})]}),Object(j.jsxs)("div",{className:"discoverSnippet",children:[Object(j.jsxs)("div",{className:"left",children:[Object(j.jsxs)("div",{className:"left-left",children:[Object(j.jsx)("h4",{children:"Quantity: "}),Object(j.jsx)("h4",{children:"Avg. Cost / Share"}),Object(j.jsx)("h4",{children:"Total Cost:"})]}),Object(j.jsxs)("div",{className:"left-right",children:[Object(j.jsx)("h4",{children:e.business.quantity}),Object(j.jsx)("h4",{children:N(e.business.total/e.business.quantity)}),Object(j.jsx)("h4",{children:e.business.total})]})]}),Object(j.jsxs)("div",{className:"right",children:[Object(j.jsxs)("div",{className:"right-left",children:[Object(j.jsx)("h4",{children:"Change:"}),Object(j.jsx)("h4",{children:"Current Price:"}),Object(j.jsx)("h4",{children:"Market Value:"})]}),Object(j.jsxs)("div",{className:"right-right",children:[Object(j.jsx)("div",{className:k()>0?"price-green":"price-red",children:Object(j.jsxs)("h4",{children:[k()>0?Object(j.jsx)(z.a,{style:{fontSize:"20px",marginTop:0}}):Object(j.jsx)(P.a,{style:{fontSize:"20px",marginTop:0}})," ",k()]})}),Object(j.jsx)("h4",{children:e.business.last}),Object(j.jsx)("h4",{children:N(e.business.last*e.business.quantity)})]})]})]}),Object(j.jsxs)("div",{className:"form",children:[Object(j.jsx)(f.a,{size:"medium",placeholder:"quantity...",margin:"dense",name:"quantity",label:"quantity",variant:"outlined",value:O,onChange:function(e){return g(e.target.value)},error:S,helperText:S||""}),Object(j.jsx)("div",{style:{margin:"0 auto",width:"20%"},children:Object(j.jsxs)(ee.a,{row:!0,"aria-label":"gender",name:"gender1",value:r,onChange:function(e){l(e.target.value)},children:[Object(j.jsx)(te.a,{value:"buy",control:Object(j.jsx)(Z.a,{}),label:"buy"}),Object(j.jsx)(te.a,{value:"sell",control:Object(j.jsx)(Z.a,{}),label:"sell"})]})}),Object(j.jsx)(v.a,{style:{width:"20%",marginTop:"1%",fontWeight:"bold"},className:"login-btn",size:"small",onClick:function(){if(e.setOpen(!1),!Number.isInteger(1*O)||O<1)return w("Enter a positive integer please"),e.setOpen(!1),!1;if(O*e.business.last>s.user.balance)return w("you don't have enough cash"),e.setOpen(!1),!1;if(w(null),"buy"===r)m.a.post(d,{params:{userID:s.user.userId,ticker:e.business.ticker,quantity:1*O,total:O*e.business.last}}).then((function(){n((function(t){return Object(o.a)(Object(o.a)({},t),{},{user:Object(o.a)(Object(o.a)({},t.user),{},{balance:s.user.balance-O*e.business.last})})})),e.setMessage("successfully purchased "+O+" shares of "+e.business.ticker+" for $"+Number(O*e.business.last).toFixed(2)),e.setOpen(!0)}));else{if(O>e.business.quantity)return w("you are selling more than you have"),!1;m.a.post(d,{params:{userID:s.user.userId,ticker:e.business.ticker,quantity:-1*O,total:-1*O*e.business.last}}).then((function(){n((function(t){return Object(o.a)(Object(o.a)({},t),{},{user:Object(o.a)(Object(o.a)({},t.user),{},{balance:s.user.balance+O*e.business.last})})})),e.setMessage("successfully saled "+O+" shares of "+e.business.ticker+" for $"+Number(O*e.business.last).toFixed(2)),e.setOpen(!0)}))}},variant:"contained",children:"submit!"})]})]})};var ae=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),s=t[0],n=t[1],c=Object(a.useState)(""),i=Object(u.a)(c,2),r=i[0],l=i[1],d=Object(a.useContext)(b),h=d.authState,O=d.setAuthState,g=Object(a.useState)([]),x=Object(u.a)(g,2),f=(x[0],x[1],Object(a.useState)([])),v=Object(u.a)(f,2),y=v[0],S=v[1],k=Object(a.useState)(),T=Object(u.a)(k,2),z=T[0],A=T[1];return Object(a.useEffect)((function(){h.loggedIn||window.location.replace("./"),m.a.get("http://localhost:8080/api/getStock",{params:{userID:h.user.userId}}).then((function(e){if(0==e.data.length)S([Object(j.jsxs)(w.a,{severity:"info",style:{width:"50%",margin:"0 auto"},children:["Currently you have no stocks in your portfolio \u2014 ",Object(j.jsx)("strong",{children:"buy some!"})]})]);else{S(e.data.map((function(e){return Object(j.jsx)(se,{business:e,setOpen:n,setMessage:l})})));for(var t=h.user.balance,s=0;s<e.data.length;s++)t+=e.data[s].last*e.data[s].quantity;A(Number(t).toFixed(2))}!0===h.uploadReady&&(O((function(e){return Object(o.a)(Object(o.a)({},e),{},{uploadReady:!1})})),l("deleted from favorite"),n(!0))}))}),[h.loggedIn,h.uploadReady,h]),Object(j.jsxs)("div",{className:"discover",children:[Object(j.jsx)(p,{}),Object(j.jsxs)("div",{style:{margin:"0 auto",width:"50%",overflow:"hidden"},children:[Object(j.jsx)("h1",{style:{textAlign:"left"},children:"My Portfolio"}),Object(j.jsxs)("h3",{style:{textAlign:"left"},children:["Cash Balance: ",Number(h.user.balance).toFixed(2)]}),Object(j.jsxs)("h3",{style:{textAlign:"left"},children:["Total Account Value: ",z||Number(h.user.balance).toFixed(2)]}),Object(j.jsx)(C.a,{in:s,children:Object(j.jsx)(w.a,{action:Object(j.jsx)(I.a,{"aria-label":"close",color:"inherit",size:"small",onClick:function(){n(!1)},children:Object(j.jsx)(N.a,{fontSize:"inherit"})}),children:r})})]}),Object(j.jsxs)("div",{className:"home-search",children:[Object(j.jsx)("div",{style:{paddingTop:"2vh",width:"50%"}}),y]})]})};var ne=function(){return Object(j.jsx)("div",{className:"App",children:Object(j.jsx)(h,{children:Object(j.jsx)(r.a,{children:Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{exact:!0,path:"/",component:q}),Object(j.jsx)(l.a,{exact:!0,path:"/Auth",component:J}),Object(j.jsx)(l.a,{exact:!0,path:"/Favorite",component:X}),Object(j.jsx)(l.a,{exact:!0,path:"/Test",component:Q}),Object(j.jsx)(l.a,{exact:!0,path:"/Port",component:ae})]})})})})};i.a.render(Object(j.jsx)(ne,{}),document.getElementById("root"))},28:function(e,t,s){},84:function(e,t,s){}},[[234,1,2]]]);
//# sourceMappingURL=main.9502e8b6.chunk.js.map